# ShopScript-7
Payment module for ShopScript 7+

Платёжный модуль для интеграции платёжной системы «ИнвойсБокс» и CMS ShopScript 7+. Реализована поддержка платёжного API. Протестировано на системе ShopScript 7.2.14.155.

## Установка модуля

1. Скопируйте содержимое дирректорию wa-plugins в корневую директорию проекта;

## Настройка модуля
1. Зайти в раздел "Магазин" -> "Настройки" -> "Оплата";
1. Нажмите выпадающее меню "Добавить способы оплаты" -> выберите "Invoicebox";
1. В открывшемся окне введите необходимое вам название платежной системы, описание, выберите для каких методов доставки работает платежный метод;
1. Заполните обзатльные поля:
    - "Номер магазина"
    - "Региональный код магазина"
    - "Ключ безопасности магазина"
1. Нажмите на кнопку "Сохранить";

### Специфические настройки 

Тестовый режим - включите его для проведения тестовых платежей, при включении этого режима, вы пройдете все шаги в платежном терминале ИнвойсБокс, но деньги с вашей карты списаны не будут.

### Настройка панели ИнвойсБокс:

1. Для настройки панели управления ИнвойсБокс пройдите по url - https://login.invoicebox.ru/ ;
1. Авторизуйтесь и пройдите в раздел "Мои магазины". "Начало работы" -> "Настройки" -> "Мои магазины";
1. Пройдите по вкладку "Уведомления по протоколу" -> выберите "Тип уведомления" "Оплата/HTTP/Post (HTTP POST запрос с данными оплаты в переменных)"
1. В поле "URL уведомления" укажите:

    `<домен_сайта>/payments.php/invoicebox/`

Данный URL отображается в настройках модуля.    

1. Сохраните изменения.
